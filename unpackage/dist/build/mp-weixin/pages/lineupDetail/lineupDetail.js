(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/lineupDetail/lineupDetail"],{5967:function(t,e,i){"use strict";i.r(e);var n=i("f14d"),r=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},7153:function(t,e,i){"use strict";var n=i("f6a6"),r=i.n(n);r.a},"77b4":function(t,e,i){"use strict";(function(t){i("bbd9");n(i("66fd"));var e=n(i("f571"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i("543d")["createPage"])},f14d:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("a34a")),r=(i("5549"),i("5c3e")),a=o(i("2ef0"));function o(t){return t&&t.__esModule?t:{default:t}}function u(t,e,i,n,r,a,o){try{var u=t[a](o),l=u.value}catch(c){return void i(c)}u.done?e(l):Promise.resolve(l).then(n,r)}function l(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var a=t.apply(e,i);function o(t){u(a,n,r,o,l,"next",t)}function l(t){u(a,n,r,o,l,"throw",t)}o(void 0)}))}}function c(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=s(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==i.return||i.return()}finally{if(u)throw a}}}}function s(t,e){if(t){if("string"===typeof t)return f(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var h={data:function(){return{gettedData:{},lineId:"",detail:{},detail2:{},lineupauthor:{},tag:{},feature:{},heroList:[],carry:[],equipList:[],replaceList:[],fetters:[],raceOrJob:[],collTitle1:"羁绊详情",collTitle2:"海克斯详情",collTitle3:"装备详情",collTitle4:"站位详情",collTitle5:"前期过渡",hexInfo:[],hexInfo2:[],carryHero:{}}},computed:{carryMain:function(){var t;return null===(t=this.detail.carry_hero_equip_replace)||void 0===t?void 0:t.main.split(",")},carryBack:function(){var t;return null===(t=this.detail.carry_hero_equip_replace)||void 0===t?void 0:t.backup.split(",")},otherEquipHeroList:function(){return this.detail.hero_location?this.detail.hero_location.filter((function(t){return""!==t.equipment_id&&!t.is_carry_hero})):[]},render_map_heroes_1:function(){if(this.detail.hero_location){var t=new Array(28);return this.detail.hero_location.forEach((function(e,i){var n=e.location.split(",");if(2===n.length){var r=7*(+n[0]-1)+ +n[1]-1;r<0||r>=t.length||(t[r]=e)}})),t}},early_map_heroes:function(){if(this.detail.y21_early_heros){var t=new Array(28);return this.detail.y21_early_heros.forEach((function(e,i){var n=e.location.split(",");if(2===n.length){var r=7*(+n[0]-1)+ +n[1]-1;r<0||r>=t.length||(t[r]=e)}})),t}},getEarlyRace:function(){var t=this,e=[];return this.detail.y21_early_heros_contact.forEach((function(i,n){for(var r in t.gettedData.raceList)t.gettedData.raceList[r].TFTID===i.id&&e.push(t.gettedData.raceList[r]);for(var a in t.gettedData.jobList)t.gettedData.jobList[a].TFTID===i.id&&e.push(t.gettedData.jobList[a])})),e},meta_map_heroes:function(){if(this.detail.y21_metaphase_heros){var t=new Array(28);return this.detail.y21_metaphase_heros.forEach((function(e,i){var n=e.location.split(",");if(2===n.length){var r=7*(+n[0]-1)+ +n[1]-1;r<0||r>=t.length||(t[r]=e)}})),t}},getMetaRace:function(){var t=this,e=[];return this.detail.y21_metaphase_heros_contact.forEach((function(i,n){for(var r in t.gettedData.raceList)t.gettedData.raceList[r].TFTID===i.id&&e.push(t.gettedData.raceList[r]);for(var a in t.gettedData.jobList)t.gettedData.jobList[a].TFTID===i.id&&e.push(t.gettedData.jobList[a])})),e}},methods:{getChess:function(t){var e,i=c(this.gettedData.chessList);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(n.chessId===t)return n}}catch(r){i.e(r)}finally{i.f()}},getRaceOrJob:function(t,e){if("race"==e)for(var i in this.gettedData.raceList)this.gettedData.raceList[i].raceId===t&&this.raceOrJob.push(this.gettedData.raceList[i]);else if("job"===e)for(var n in this.gettedData.jobList)this.gettedData.jobList[n].jobId===t&&this.raceOrJob.push(this.gettedData.jobList[n])},getHex:function(t,e){var i=this;0==e?t.split(",").forEach((function(t,e){Object.keys(i.gettedData.hexList).forEach((function(e,n){i.gettedData.hexList[e].hexId==t&&i.hexInfo.push(i.gettedData.hexList[e])}))})):t.split(",").forEach((function(t,e){Object.keys(i.gettedData.hexList).forEach((function(e,n){i.gettedData.hexList[e].hexId==t&&i.hexInfo2.push(i.gettedData.hexList[e])}))}))},getEquip:function(t){var e={};return this.gettedData.equipList&&this.gettedData.equipList.forEach((function(i){i.equipId==t&&(e=i)})),e},open:function(t){"fettersDetail"==t?this.collTitle1="收起":"hexDetail"==t?this.collTitle2="收起":"equipDetail"==t?this.collTitle3="收起":"locationDetail"==t?this.collTitle4="收起":"earlyLocationDetail"==t&&(this.collTitle5="收起")},close:function(t){"fettersDetail"==t?this.collTitle1="羁绊详情":"hexDetail"==t?this.collTitle2="海克斯详情":"equipDetail"==t?this.collTitle3="装备详情":"locationDetail"==t?this.collTitle4="站位详情":"earlyLocationDetail"==t&&(this.collTitle5="前期过渡")},getFeature:function(t){var e="";return this.feature.forEach((function(i){t==i.id&&(e=i.title)})),e}},onLoad:function(t){var e=this;return l(n.default.mark((function i(){var o;return n.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o={chessList:[],jobList:[],raceList:[],hexList:{},equipList:[]},i.next=3,Promise.all([(0,r._http)("/img/tft/js/chess.js","GET").then((function(t){o.chessList=t.data})),(0,r._http)("/img/tft/js/race.js","GET").then((function(t){o.raceList=t.data})),(0,r._http)("/img/tft/js/job.js","GET").then((function(t){o.jobList=t.data})),(0,r._http)("/img/tft/js/hex.js","GET").then((function(t){o.hexList=t})),(0,r._http)("/img/tft/js/equip.js","GET").then((function(t){o.equipList=t.data}))]);case 3:e.gettedData=a.default.cloneDeep(o),e.lineId=t.lineId,e.tag=JSON.parse(t.tag),e.feature=JSON.parse(t.feature),e._http("/tftzlkauto/json/lineupJson/total/".concat(e.lineId,".json"),"GET").then((function(t){e.detail=JSON.parse(t.detail.replace(/\s*/g,"")),t.detail2&&(e.detail2=JSON.parse(t.detail2.replace(/\s*/g,""))),e.lineupauthor=t.lineupauthor_data,e.detail.hero_location.forEach((function(t){e.heroList.push(e.getChess(t.hero_id)),e.carry.push(t.is_carry_hero),t.is_carry_hero&&(e.carryHero=e.getChess(t.hero_id)),""!==t.equipment_id&&t.equipment_id.split(",").forEach((function(t){e.equipList.push(e.getEquip(t))}))})),e.replaceList=e.detail.hero_replace,e.fetters=e.detail.contact,e.fetters.forEach((function(t){e.getRaceOrJob(t.id,t.type)})),e.getHex(e.detail.hexbuff.recomm,0),e.getHex(e.detail.hexbuff.replace,1)}));case 8:case"end":return i.stop()}}),i)})))()}};e.default=h},f571:function(t,e,i){"use strict";i.r(e);var n=i("fec2"),r=i("5967");for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);i("7153");var o,u=i("f0c5"),l=Object(u["a"])(r["default"],n["b"],n["c"],!1,null,"2d293b8e",null,!1,n["a"],o);e["default"]=l.exports},f6a6:function(t,e,i){},fec2:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uImage:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-image/u-image")]).then(i.bind(null,"3d2a"))},uText:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-text/u-text")]).then(i.bind(null,"4ffb"))},"u-Text":function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u--text/u--text")]).then(i.bind(null,"c3c2"))},"u-Image":function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u--image/u--image")]).then(i.bind(null,"d62e"))},uCollapse:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-collapse/u-collapse")]).then(i.bind(null,"b3cb"))},uCollapseItem:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-collapse-item/u-collapse-item")]).then(i.bind(null,"95cc"))},uniSection:function(){return i.e("components/uni-section/uni-section").then(i.bind(null,"364e"))},uniGroup:function(){return i.e("uni_modules/uni-group/components/uni-group/uni-group").then(i.bind(null,"ab63"))},uDivider:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-divider/u-divider")]).then(i.bind(null,"5ba3"))}},r=function(){var t=this,e=t.$createElement,i=(t._self._c,t.__map(t.fetters,(function(e,i){var n=t.__get_orig(e),r=t.raceOrJob[i].introduce.trim();return{$orig:n,g0:r}}))),n=t.gettedData?t.__map((t.detail.equipment_order||"").split(","),(function(e,i){var n=t.__get_orig(e),r=t.getEquip(e);return{$orig:n,m0:r}})):null,r=t.gettedData?t.__map(t.carryMain,(function(e,i){var n=t.__get_orig(e),r=t.getEquip(e);return{$orig:n,m1:r}})):null,a=t.gettedData?t.__map(t.carryBack,(function(e,i){var n=t.__get_orig(e),r=t.getEquip(e);return{$orig:n,m2:r}})):null,o=t.gettedData?t.__map(t.otherEquipHeroList,(function(e,i){var n=t.__get_orig(e),r=e.hero_id?t.getChess(e.hero_id):null,a=t.__map(e.equipment_id.split(",").map((function(e){return t.getEquip(e)})),(function(e,i){var n=t.__get_orig(e),r=e.formula.split(",").map((function(e){return t.getEquip(e)}));return{$orig:n,l4:r}}));return{$orig:n,m3:r,l5:a}})):null,u=t.render_map_heroes_1?t.__map(t.render_map_heroes_1,(function(e,i){var n=t.__get_orig(e),r=e&&e.hero_id?t.getChess(e.hero_id):null;return{$orig:n,m4:r}})):null,l=t.early_map_heroes?t.__map(t.early_map_heroes,(function(e,i){var n=t.__get_orig(e),r=e&&e.hero_id?t.getChess(e.hero_id):null;return{$orig:n,m5:r}})):null,c=t.meta_map_heroes?t.__map(t.meta_map_heroes,(function(e,i){var n=t.__get_orig(e),r=e&&e.hero_id?t.getChess(e.hero_id):null;return{$orig:n,m6:r}})):null;t.$mp.data=Object.assign({},{$root:{l0:i,l1:n,l2:r,l3:a,l6:o,l7:u,l8:l,l9:c}})},a=[]}},[["77b4","common/runtime","common/vendor"]]]);