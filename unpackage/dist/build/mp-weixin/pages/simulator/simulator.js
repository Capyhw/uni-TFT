(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/simulator/simulator"],{4517:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("a34a")),i=n("5c3e"),a=o(n("2ef0"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,i,a,o){try{var u=e[a](o),c=u.value}catch(s){return void n(s)}u.done?t(c):Promise.resolve(c).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,c,"next",e)}function c(e){u(a,r,i,o,c,"throw",e)}o(void 0)}))}}function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function l(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(){Promise.all([n.e("common/vendor"),n.e("components/AdjustHexListDialog")]).then(function(){return resolve(n("ca8d"))}.bind(null,n)).catch(n.oe)},h=function(){Promise.all([n.e("common/vendor"),n.e("components/AdjustOrderDialog")]).then(function(){return resolve(n("82ef"))}.bind(null,n)).catch(n.oe)},m=function(){n.e("components/SelectCarryDialog").then(function(){return resolve(n("3723"))}.bind(null,n)).catch(n.oe)},_=function(){n.e("components/AdjustHeroListDialog").then(function(){return resolve(n("4246"))}.bind(null,n)).catch(n.oe)},p=function(){Promise.all([n.e("common/vendor"),n.e("components/AdjustEquipListDialog")]).then(function(){return resolve(n("ab25"))}.bind(null,n)).catch(n.oe)},g={components:{"adjust-order-dialog":h,AdjustHexListDialog:d,"select-carry-dialog":m,"adjust-hero-list-dialog":_,"adjust-equip-list-dialog":p},data:function(){return{tab0:[{name:"消耗"},{name:"种族"},{name:"职业"}],cur0:0,tab1:[{name:"0"},{name:"1"},{name:"2"},{name:"3"},{name:"4"},{name:"5"},{name:"8"},{name:"10"}],cur1:0,tab2:[{name:"星界龙"},{name:"冒险家"},{name:"玉龙"},{name:"幻镜龙"},{name:"怒翼龙"},{name:"神龙烈焰"},{name:"屠龙勇士"},{name:"金鳞龙"},{name:"风暴龙"},{name:"驯龙大师"},{name:"幽影龙"}],cur2:0,tab3:[{name:"刺客"},{name:"吟游诗人"},{name:"格斗家"},{name:"强袭炮手"},{name:"重骑兵"},{name:"神龙尊者"},{name:"魔导师"},{name:"护卫"},{name:"传奇半神"},{name:"法师"},{name:"秘术师"},{name:"换形师"},{name:"迅捷射手"},{name:"狂刃战士"},{name:"龙神"},{name:"窃法巧手"},{name:"唤星者"},{name:"召唤物"}],cur3:0,gettedData:{},hero_location:[],zrzl_number:0,raceOrJob:[],equip_order_list:new Array(5),hex_main_list:new Array(3),hex_replace_list:new Array(3),carry_main:{},render_base:new Array(2),carry_hero_base_equip:new Array(2),render_replace:new Array(3),carry_hero_equip_replace:new Array(3),render_heros:new Array(5)}},methods:{change:function(e,t){0==t&&(this.cur0=e.index),1==t&&(this.cur1=e.index),2==t&&(this.cur2=e.index),3==t&&(this.cur3=e.index)},getChess:function(e){if(this.gettedData){var t,n=s(this.gettedData.chessList);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.chessId==e)return r}}catch(i){n.e(i)}finally{n.f()}}},getEquip:function(e){var t={};return this.gettedData.equipList.forEach((function(n,r){n.equipId==e&&(t=n)})),t},getHex:function(e){var t={};return a.default.forEach(this.gettedData.hexList,(function(n){n.id==e&&(t=n)})),t},addHero:function(e){this.hero_location.push(e)},openOrderAdjustDialog:function(){this.$refs.AdjustOrderDialog.open(this.equip_order_list)},adjustHexMain:function(){this.$refs.AdjustHexListDialog.open(this.hex_main_list)},adjustHexBackup:function(){this.$refs.AdjustHexListDialog.open(this.hex_replace_list)},selectMainHero:function(){this.$refs.SelectCarryDialog.open()},adjustMainBase:function(){this.$refs.AdjustEquipListDialog.open(this.carry_hero_base_equip)},adjustMainReplace:function(){this.$refs.AdjustEquipListDialog.open(this.carry_hero_equip_replace,!0)},setFinalMapMainCarry:function(e){this.carry_main=e},adjustList:function(){this.$refs.AdjustHeroListDialog.open(this.render_heros)}},computed:{show_hero_list:function(){var e,t=this.cur0,n=this.gettedData.chessList;if(1==t){var r=this.tab2[this.cur2];e=a.default.filter(n,(function(e){return-1!==e.races.indexOf(r.name)}))}else if(2==t){var i=this.tab3[this.cur3];e=a.default.filter(n,(function(e){return-1!==e.jobs.indexOf(i.name)}))}else if(0==t){var o;o=this.cur1<6?this.cur1:6==this.cur1?8:10,e=a.default.filter(n,{price:o+""})}return e},current_contact:function(){var e;return 1==this.cur0?e=a.default.find(this.gettedData.raceList,{name:this.tab2[this.cur2].name}):2==this.cur0&&(e=a.default.find(this.gettedData.jobList,{name:this.tab3[this.cur3].name})),console.log(e),e},render_map_heroes_1:function(){var e=new Array(28);return this.hero_location.forEach((function(t,n){e[n]=t})),e},levelNeed:function(){var e=this.render_map_heroes_1.filter((function(e){return""!=e})).length-this.zrzl_number;return e<1&&(e=1),e},fetters:function(){var e=this;function t(e,t){for(var n=[],r={},i=0;i<e.length;i++)r[e[i][t]]||(n.push(e[i]),r[e[i][t]]=!0);return n}var n=this.render_map_heroes_1.filter((function(e){return""!=e}));if(n[0]){n=t(n,"chessId");var r=a.default.groupBy(n,(function(e){return e.raceIds}));r=a.default.assign(r,a.default.groupBy(n,(function(e){return e.jobIds})));var i={};Object.keys(r).forEach((function(e){-1!==e.indexOf(",")?(i[e.split(",")[0]]?i[e.split(",")[0]]=r[e].concat(i[e.split(",")[0]]):i[e.split(",")[0]]=r[e],i[e.split(",")[1]]?i[e.split(",")[1]]=r[e].concat(i[e.split(",")[1]]):i[e.split(",")[1]]=r[e]):i[e]=r[e]})),this.raceOrJob=[],a.default.forEach(Object.keys(i),(function(t){for(var n in e.gettedData.raceList)if(e.gettedData.raceList[n].raceId==t){var r=a.default.cloneDeep(e.gettedData.raceList[n]);r["num"]=i[t].length,e.raceOrJob.push(r)}for(var o in e.gettedData.jobList)if(e.gettedData.jobList[o].jobId==t){var u=a.default.cloneDeep(e.gettedData.jobList[o]);u["num"]=i[t].length,e.raceOrJob.push(u)}}));for(var o=0;o<this.raceOrJob.length;o++){var u=[],c=[];this.raceOrJob[o].raceId?function(){var t={};for(var n in e.raceOrJob[o].race_color_list.split(",").forEach((function(e,n){t[e.split(":")[0]]=e.split(":")[1]})),t){if(u||(u=[]),u.push(t[n]),e.raceOrJob[o].num<=n){e.raceOrJob[o].num==n?e.raceOrJob[o].cur_level=u[u.length-1]:u.length>1?e.raceOrJob[o].cur_level=u[u.length-2]:e.raceOrJob[o].cur_level=0,e.raceOrJob[o].next_num=n;break}4==t[n]&&(e.raceOrJob[o].next_num=n,e.raceOrJob[o].cur_level=4)}}():this.raceOrJob[o].jobId&&function(){var t={};for(var n in e.raceOrJob[o].job_color_list.split(",").forEach((function(e,n){t||(t={}),t[e.split(":")[0]]=e.split(":")[1]})),t){if(c||(c=[]),c.push(t[n]),e.raceOrJob[o].num<=n){e.raceOrJob[o].num==n?e.raceOrJob[o].cur_level=c[c.length-1]:c.length>1?e.raceOrJob[o].cur_level=c[c.length-2]:e.raceOrJob[o].cur_level=0,e.raceOrJob[o].next_num=n;break}4==t[n]&&(e.raceOrJob[o].next_num=n,e.raceOrJob[o].cur_level=4)}}()}return this.raceOrJob}},main_carry_hero:function(){return this.hero_location},getHeight:function(){return e.getMenuButtonBoundingClientRect().bottom}},onLoad:function(){var e=this;return c(r.default.mark((function t(){var n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={chessList:[],jobList:[],raceList:[],hexList:{},equipList:[],rankList:[]},t.next=3,Promise.all([(0,i._http)("/img/tft/js/chess.js","GET").then((function(e){n.chessList=e.data})),(0,i._http)("/img/tft/js/race.js","GET").then((function(e){n.raceList=e.data})),(0,i._http)("/img/tft/js/job.js","GET").then((function(e){n.jobList=e.data})),(0,i._http)("/img/tft/js/hex.js","GET").then((function(e){n.hexList=e})),(0,i._http)("/img/tft/js/equip.js","GET").then((function(e){n.equipList=e.data}))]);case 3:e.gettedData=a.default.cloneDeep(n),e.gettedData=a.default.cloneDeep(n);case 5:case"end":return t.stop()}}),t)})))()}};t.default=g}).call(this,n("543d")["default"])},"5e57":function(e,t,n){"use strict";n.r(t);var r=n("fc25"),i=n("bb7f");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("9ecf");var o,u=n("f0c5"),c=Object(u["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],o);t["default"]=c.exports},"7bb1":function(e,t,n){"use strict";(function(e){n("bbd9");r(n("66fd"));var t=r(n("5e57"));function r(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n("543d")["createPage"])},"7e13":function(e,t,n){},"9ecf":function(e,t,n){"use strict";var r=n("7e13"),i=n.n(r);i.a},bb7f:function(e,t,n){"use strict";n.r(t);var r=n("4517"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},fc25:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={uTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,"e72c"))},"u-Image":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--image/u--image")]).then(n.bind(null,"d62e"))},uniCard:function(){return n.e("uni_modules/uni-card/components/uni-card/uni-card").then(n.bind(null,"6773"))},uniSection:function(){return n.e("components/uni-section/uni-section").then(n.bind(null,"364e"))},uniGroup:function(){return n.e("uni_modules/uni-group/components/uni-group/uni-group").then(n.bind(null,"ab63"))}},i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.render_map_heroes_1?e.__map(e.render_map_heroes_1,(function(t,n){var r=e.__get_orig(t),i=t&&t.chessId?e.getChess(t.chessId):null;return{$orig:r,m0:i}})):null),r=e.__map(e.hex_main_list,(function(t,n){var r=e.__get_orig(t),i=t?e.getHex(t):null;return{$orig:r,m1:i}})),i=e.__map(e.hex_replace_list,(function(t,n){var r=e.__get_orig(t),i=t?e.getHex(t):null;return{$orig:r,m2:i}})),a=e.__map(e.equip_order_list,(function(t,n){var r=e.__get_orig(t),i=t?e.getEquip(t):null;return{$orig:r,m3:i}})),o=e.__map(this.carry_hero_base_equip,(function(t,n){var r=e.__get_orig(t),i=t?e.getEquip(t):null;return{$orig:r,m4:i}})),u=e.__map(this.carry_hero_equip_replace,(function(t,n){var r=e.__get_orig(t),i=t?e.getEquip(t):null;return{$orig:r,m5:i}})),c=e.__map(e.render_heros,(function(t,n){var r=e.__get_orig(t),i=t?e.getChess(t):null;return{$orig:r,m6:i}}));e._isMounted||(e.e0=function(t){return e.change(t,0)},e.e1=function(t){return e.change(t,1)},e.e2=function(t){return e.change(t,2)},e.e3=function(t){return e.change(t,3)}),e.$mp.data=Object.assign({},{$root:{l0:n,l1:r,l2:i,l3:a,l4:o,l5:u,l6:c}})},a=[]}},[["7bb1","common/runtime","common/vendor"]]]);